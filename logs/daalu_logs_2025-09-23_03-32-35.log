Running step: cluster_api
[ClusterAPI] Applying /home/kez/Documents/python_projects/daalu/daalu/playbooks/cluster-api/openstack-cluster-api-secret.yaml ...
secret/openstack-infra-proxmox-secret configured
[ClusterAPI] Applying /home/kez/Documents/python_projects/daalu/daalu/playbooks/cluster-api/openstack-cluster-api.yaml ...
cluster.cluster.x-k8s.io/openstack-infra unchanged
proxmoxcluster.infrastructure.cluster.x-k8s.io/openstack-infra unchanged
kubeadmcontrolplane.controlplane.cluster.x-k8s.io/openstack-infra-control-plane unchanged
proxmoxmachinetemplate.infrastructure.cluster.x-k8s.io/openstack-infra-control-plane unchanged
machinedeployment.cluster.x-k8s.io/openstack-infra-workers unchanged
proxmoxmachinetemplate.infrastructure.cluster.x-k8s.io/openstack-infra-worker unchanged
kubeadmconfigtemplate.bootstrap.cluster.x-k8s.io/openstack-infra-worker unchanged
[ClusterAPI] Manifests applied successfully. Waiting for control plane to become ready...
NAME                                                                READY  SEVERITY  REASON  SINCE  MESSAGE                                                                           
Cluster/openstack-infra                                             True                     31h                                                                                       
â”œâ”€ClusterInfrastructure - ProxmoxCluster/openstack-infra            True                     31h                                                                                       
â”œâ”€ControlPlane - KubeadmControlPlane/openstack-infra-control-plane  True                     31h                                                                                       
â”‚ â””â”€3 Machines...                                                   True                     31h    See openstack-infra-control-plane-bl5vb, openstack-infra-control-plane-nn9tr, ...  
â””â”€Workers                                                                                                                                                                              
  â””â”€MachineDeployment/openstack-infra-workers                       True                     22h                                                                                       
    â””â”€4 Machines...                                                 True                     31h    See openstack-infra-workers-sc4sh-822pp, openstack-infra-workers-sc4sh-94g9g, ...  

[ClusterAPI] Cluster and control plane are ready.
[ClusterAPI] Bootstrap completed successfully.
Completed: cluster_api
Running step: setup
[Setup] Running playbook: setup.yaml
[Setup] Inventory: /home/kez/Documents/python_projects/daalu/daalu/cloud-config/inventory/hosts.ini

PLAY [Update hosts file with K8s cluster info] *********************************

TASK [Gathering Facts] *********************************************************
[0;32mok: [localhost][0m

TASK [cilium_setup : Create temporary directory for kubeconfig] ****************
[0;32mok: [localhost][0m

TASK [cilium_setup : Create temporary directory for kubeconfig] ****************
[0;32mok: [localhost][0m

TASK [cilium_setup : Generate kubeconfig on local machine] *********************
[0;33mchanged: [localhost][0m

TASK [cilium_setup : Generate kubeconfig on local machine] *********************
[0;33mchanged: [localhost][0m

TASK [cilium_setup : Get control plane endpoint] *******************************
[0;33mchanged: [localhost][0m

TASK [cilium_setup : Add Cilium helm repository] *******************************
[0;32mok: [localhost][0m

TASK [cilium_setup : Install Cilium using Helm] ********************************
[1;35mcases. Install helm diff >= 3.4.1 for better results.[0m
[0;32mok: [localhost][0m

TASK [cilium_setup : Get Cilium pod status] ************************************
[0;33mchanged: [localhost][0m

TASK [cilium_setup : Debug pod status] *****************************************
[0;32mok: [localhost] => {[0m
[0;32m    "pod_status_check.stdout_lines": [[0m
[0;32m        "NAME           READY   STATUS    RESTARTS   AGE   IP              NODE                                  NOMINATED NODE   READINESS GATES",[0m
[0;32m        "cilium-42r8l   1/1     Running   0          31h   192.168.0.172   openstack-infra-workers-sc4sh-94g9g   <none>           <none>",[0m
[0;32m        "cilium-42vl4   1/1     Running   0          31h   192.168.0.176   openstack-infra-control-plane-nn9tr   <none>           <none>",[0m
[0;32m        "cilium-lh52m   1/1     Running   0          31h   192.168.0.170   openstack-infra-control-plane-q2mhs   <none>           <none>",[0m
[0;32m        "cilium-n2gd9   1/1     Running   0          31h   192.168.0.175   openstack-infra-control-plane-bl5vb   <none>           <none>",[0m
[0;32m        "cilium-wgcpz   1/1     Running   0          31h   192.168.0.174   openstack-infra-workers-sc4sh-xvgnx   <none>           <none>",[0m
[0;32m        "cilium-wmv58   1/1     Running   0          31h   192.168.0.173   openstack-infra-workers-sc4sh-822pp   <none>           <none>",[0m
[0;32m        "cilium-xn45q   1/1     Running   0          31h   192.168.0.171   openstack-infra-workers-sc4sh-kc8jm   <none>           <none>"[0m
[0;32m    ][0m
[0;32m}[0m

TASK [cilium_setup : Wait for Cilium pods to be ready] *************************
[0;33mchanged: [localhost][0m

TASK [cilium_setup : Install Cilium CLI] ***************************************
[0;32mok: [localhost][0m

TASK [cilium_setup : Extract Cilium CLI] ***************************************
[0;32mok: [localhost][0m

TASK [cilium_setup : Run Cilium status check] **********************************
[0;31mfatal: [localhost]: FAILED! => {"changed": false, "cmd": "timeout 30s cilium status", "delta": "0:00:00.107171", "end": "2025-09-23 03:32:47.977107", "msg": "non-zero return code", "rc": 1, "start": "2025-09-23 03:32:47.869936", "stderr": "status check failed: [daemonsets.apps \"cilium\" not found, unable to retrieve ConfigMap \"cilium-config\": configmaps \"cilium-config\" not found]", "stderr_lines": ["status check failed: [daemonsets.apps \"cilium\" not found, unable to retrieve ConfigMap \"cilium-config\": configmaps \"cilium-config\" not found]"], "stdout": "\u001b[33m    /Â¯Â¯\\\n\u001b[36m /Â¯Â¯\u001b[33m\\__/\u001b[32mÂ¯Â¯\\\u001b[0m    Cilium:             \u001b[31m1 errors\u001b[0m\n\u001b[36m \\__\u001b[31m/Â¯Â¯\\\u001b[32m__/\u001b[0m    Operator:           \u001b[36mdisabled\u001b[0m\n\u001b[32m /Â¯Â¯\u001b[31m\\__/\u001b[35mÂ¯Â¯\\\u001b[0m    Envoy DaemonSet:    \u001b[36mdisabled (using embedded mode)\u001b[0m\n\u001b[32m \\__\u001b[34m/Â¯Â¯\\\u001b[35m__/\u001b[0m    Hubble Relay:       \u001b[36mdisabled\u001b[0m\n\u001b[34m\u001b[34m\u001b[34m    \\__/\u001b[0m       ClusterMesh:        \u001b[36mdisabled\u001b[0m\n\nContainers:            cilium                   \n                       cilium-operator          \n                       clustermesh-apiserver    \n                       hubble-relay             \nCluster Pods:          0/18 managed by Cilium\nHelm chart version:    \nErrors:                cilium    cilium    daemonsets.apps \"cilium\" not found", "stdout_lines": ["\u001b[33m    /Â¯Â¯\\", "\u001b[36m /Â¯Â¯\u001b[33m\\__/\u001b[32mÂ¯Â¯\\\u001b[0m    Cilium:             \u001b[31m1 errors\u001b[0m", "\u001b[36m \\__\u001b[31m/Â¯Â¯\\\u001b[32m__/\u001b[0m    Operator:           \u001b[36mdisabled\u001b[0m", "\u001b[32m /Â¯Â¯\u001b[31m\\__/\u001b[35mÂ¯Â¯\\\u001b[0m    Envoy DaemonSet:    \u001b[36mdisabled (using embedded mode)\u001b[0m", "\u001b[32m \\__\u001b[34m/Â¯Â¯\\\u001b[35m__/\u001b[0m    Hubble Relay:       \u001b[36mdisabled\u001b[0m", "\u001b[34m\u001b[34m\u001b[34m    \\__/\u001b[0m       ClusterMesh:        \u001b[36mdisabled\u001b[0m", "", "Containers:            cilium                   ", "                       cilium-operator          ", "                       clustermesh-apiserver    ", "                       hubble-relay             ", "Cluster Pods:          0/18 managed by Cilium", "Helm chart version:    ", "Errors:                cilium    cilium    daemonsets.apps \"cilium\" not found"]}[0m
[0;36m...ignoring[0m

TASK [cilium_setup : Display Cilium status] ************************************
[0;32mok: [localhost] => {[0m
[0;32m    "cilium_status.stdout_lines": [[0m
[0;32m        "\u001b[33m    /Â¯Â¯\\",[0m
[0;32m        "\u001b[36m /Â¯Â¯\u001b[33m\\__/\u001b[32mÂ¯Â¯\\\u001b[0m    Cilium:             \u001b[31m1 errors\u001b[0m",[0m
[0;32m        "\u001b[36m \\__\u001b[31m/Â¯Â¯\\\u001b[32m__/\u001b[0m    Operator:           \u001b[36mdisabled\u001b[0m",[0m
[0;32m        "\u001b[32m /Â¯Â¯\u001b[31m\\__/\u001b[35mÂ¯Â¯\\\u001b[0m    Envoy DaemonSet:    \u001b[36mdisabled (using embedded mode)\u001b[0m",[0m
[0;32m        "\u001b[32m \\__\u001b[34m/Â¯Â¯\\\u001b[35m__/\u001b[0m    Hubble Relay:       \u001b[36mdisabled\u001b[0m",[0m
[0;32m        "\u001b[34m\u001b[34m\u001b[34m    \\__/\u001b[0m       ClusterMesh:        \u001b[36mdisabled\u001b[0m",[0m
[0;32m        "",[0m
[0;32m        "Containers:            cilium                   ",[0m
[0;32m        "                       cilium-operator          ",[0m
[0;32m        "                       clustermesh-apiserver    ",[0m
[0;32m        "                       hubble-relay             ",[0m
[0;32m        "Cluster Pods:          0/18 managed by Cilium",[0m
[0;32m        "Helm chart version:    ",[0m
[0;32m        "Errors:                cilium    cilium    daemonsets.apps \"cilium\" not found"[0m
[0;32m    ][0m
[0;32m}[0m

TASK [k8s_hosts_update : Set kubeconfig path] **********************************
[0;32mok: [localhost][0m

TASK [k8s_hosts_update : Check cluster status using kubectl] *******************
[0;32mok: [localhost][0m

TASK [k8s_hosts_update : Debug node status] ************************************
[0;32mok: [localhost] => {[0m
[0;32m    "node_status": {[0m
[0;32m        "changed": false,[0m
[0;32m        "cmd": [[0m
[0;32m            "kubectl",[0m
[0;32m            "--kubeconfig",[0m
[0;32m            "/var/lib/tmp/kubeconfig",[0m
[0;32m            "get",[0m
[0;32m            "nodes"[0m
[0;32m        ],[0m
[0;32m        "delta": "0:00:00.093709",[0m
[0;32m        "end": "2025-09-23 03:32:48.399205",[0m
[0;32m        "failed": false,[0m
[0;32m        "msg": "",[0m
[0;32m        "rc": 0,[0m
[0;32m        "start": "2025-09-23 03:32:48.305496",[0m
[0;32m        "stderr": "",[0m
[0;32m        "stderr_lines": [],[0m
[0;32m        "stdout": "NAME                                  STATUS   ROLES           AGE   VERSION\nopenstack-infra-control-plane-bl5vb   Ready    control-plane   31h   v1.32.4\nopenstack-infra-control-plane-nn9tr   Ready    control-plane   31h   v1.32.4\nopenstack-infra-control-plane-q2mhs   Ready    control-plane   31h   v1.32.4\nopenstack-infra-workers-sc4sh-822pp   Ready    node            31h   v1.32.4\nopenstack-infra-workers-sc4sh-94g9g   Ready    node            31h   v1.32.4\nopenstack-infra-workers-sc4sh-kc8jm   Ready    node            31h   v1.32.4\nopenstack-infra-workers-sc4sh-xvgnx   Ready    node            31h   v1.32.4",[0m
[0;32m        "stdout_lines": [[0m
[0;32m            "NAME                                  STATUS   ROLES           AGE   VERSION",[0m
[0;32m            "openstack-infra-control-plane-bl5vb   Ready    control-plane   31h   v1.32.4",[0m
[0;32m            "openstack-infra-control-plane-nn9tr   Ready    control-plane   31h   v1.32.4",[0m
[0;32m            "openstack-infra-control-plane-q2mhs   Ready    control-plane   31h   v1.32.4",[0m
[0;32m            "openstack-infra-workers-sc4sh-822pp   Ready    node            31h   v1.32.4",[0m
[0;32m            "openstack-infra-workers-sc4sh-94g9g   Ready    node            31h   v1.32.4",[0m
[0;32m            "openstack-infra-workers-sc4sh-kc8jm   Ready    node            31h   v1.32.4",[0m
[0;32m            "openstack-infra-workers-sc4sh-xvgnx   Ready    node            31h   v1.32.4"[0m
[0;32m        ][0m
[0;32m    }[0m
[0;32m}[0m

TASK [k8s_hosts_update : Check if nodes are available] *************************
[0;32mok: [localhost][0m

TASK [k8s_hosts_update : Debug all_ready status] *******************************
[0;32mok: [localhost] => {[0m
[0;32m    "all_ready": true[0m
[0;32m}[0m

TASK [k8s_hosts_update : Get list of machine names] ****************************
[0;32mok: [localhost][0m

TASK [k8s_hosts_update : Debug machine names] **********************************
[0;32mok: [localhost] => {[0m
[0;32m    "machine_names": {[0m
[0;32m        "changed": false,[0m
[0;32m        "cmd": "kubectl --kubeconfig /var/lib/tmp/kubeconfig get nodes -o name | cut -d'/' -f2",[0m
[0;32m        "delta": "0:00:00.109274",[0m
[0;32m        "end": "2025-09-23 03:32:48.895533",[0m
[0;32m        "failed": false,[0m
[0;32m        "msg": "",[0m
[0;32m        "rc": 0,[0m
[0;32m        "start": "2025-09-23 03:32:48.786259",[0m
[0;32m        "stderr": "",[0m
[0;32m        "stderr_lines": [],[0m
[0;32m        "stdout": "openstack-infra-control-plane-bl5vb\nopenstack-infra-control-plane-nn9tr\nopenstack-infra-control-plane-q2mhs\nopenstack-infra-workers-sc4sh-822pp\nopenstack-infra-workers-sc4sh-94g9g\nopenstack-infra-workers-sc4sh-kc8jm\nopenstack-infra-workers-sc4sh-xvgnx",[0m
[0;32m        "stdout_lines": [[0m
[0;32m            "openstack-infra-control-plane-bl5vb",[0m
[0;32m            "openstack-infra-control-plane-nn9tr",[0m
[0;32m            "openstack-infra-control-plane-q2mhs",[0m
[0;32m            "openstack-infra-workers-sc4sh-822pp",[0m
[0;32m            "openstack-infra-workers-sc4sh-94g9g",[0m
[0;32m            "openstack-infra-workers-sc4sh-kc8jm",[0m
[0;32m            "openstack-infra-workers-sc4sh-xvgnx"[0m
[0;32m        ][0m
[0;32m    }[0m
[0;32m}[0m

TASK [k8s_hosts_update : Initialize hosts entries list] ************************
[0;32mok: [localhost][0m

TASK [k8s_hosts_update : Get IP addresses for each machine] ********************
[0;32mok: [localhost] => (item=openstack-infra-control-plane-bl5vb)[0m
[0;32mok: [localhost] => (item=openstack-infra-control-plane-nn9tr)[0m
[0;32mok: [localhost] => (item=openstack-infra-control-plane-q2mhs)[0m
[0;32mok: [localhost] => (item=openstack-infra-workers-sc4sh-822pp)[0m
[0;32mok: [localhost] => (item=openstack-infra-workers-sc4sh-94g9g)[0m
[0;32mok: [localhost] => (item=openstack-infra-workers-sc4sh-kc8jm)[0m
[0;32mok: [localhost] => (item=openstack-infra-workers-sc4sh-xvgnx)[0m

TASK [k8s_hosts_update : Create hosts entries list] ****************************
[0;32mok: [localhost] => (item={'changed': False, 'stdout': '192.168.0.175', 'stderr': '', 'rc': 0, 'cmd': 'kubectl --kubeconfig ~/.kube/config get machines openstack-infra-control-plane-bl5vb -o json | jq -r \'.status.addresses[] | select(.type=="InternalIP") | .address\'', 'start': '2025-09-23 03:32:49.211132', 'end': '2025-09-23 03:32:49.321737', 'delta': '0:00:00.110605', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'kubectl --kubeconfig ~/.kube/config get machines openstack-infra-control-plane-bl5vb -o json | jq -r \'.status.addresses[] | select(.type=="InternalIP") | .address\'', '_uses_shell': True, 'expand_argument_vars': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['192.168.0.175'], 'stderr_lines': [], 'failed': False, 'item': 'openstack-infra-control-plane-bl5vb', 'ansible_loop_var': 'item'})[0m
[0;32mok: [localhost] => (item={'changed': False, 'stdout': '192.168.0.176', 'stderr': '', 'rc': 0, 'cmd': 'kubectl --kubeconfig ~/.kube/config get machines openstack-infra-control-plane-nn9tr -o json | jq -r \'.status.addresses[] | select(.type=="InternalIP") | .address\'', 'start': '2025-09-23 03:32:49.536631', 'end': '2025-09-23 03:32:49.647575', 'delta': '0:00:00.110944', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'kubectl --kubeconfig ~/.kube/config get machines openstack-infra-control-plane-nn9tr -o json | jq -r \'.status.addresses[] | select(.type=="InternalIP") | .address\'', '_uses_shell': True, 'expand_argument_vars': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['192.168.0.176'], 'stderr_lines': [], 'failed': False, 'item': 'openstack-infra-control-plane-nn9tr', 'ansible_loop_var': 'item'})[0m
[0;32mok: [localhost] => (item={'changed': False, 'stdout': '192.168.0.170', 'stderr': '', 'rc': 0, 'cmd': 'kubectl --kubeconfig ~/.kube/config get machines openstack-infra-control-plane-q2mhs -o json | jq -r \'.status.addresses[] | select(.type=="InternalIP") | .address\'', 'start': '2025-09-23 03:32:49.867796', 'end': '2025-09-23 03:32:49.975984', 'delta': '0:00:00.108188', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'kubectl --kubeconfig ~/.kube/config get machines openstack-infra-control-plane-q2mhs -o json | jq -r \'.status.addresses[] | select(.type=="InternalIP") | .address\'', '_uses_shell': True, 'expand_argument_vars': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['192.168.0.170'], 'stderr_lines': [], 'failed': False, 'item': 'openstack-infra-control-plane-q2mhs', 'ansible_loop_var': 'item'})[0m
[0;32mok: [localhost] => (item={'changed': False, 'stdout': '192.168.0.173', 'stderr': '', 'rc': 0, 'cmd': 'kubectl --kubeconfig ~/.kube/config get machines openstack-infra-workers-sc4sh-822pp -o json | jq -r \'.status.addresses[] | select(.type=="InternalIP") | .address\'', 'start': '2025-09-23 03:32:50.193860', 'end': '2025-09-23 03:32:50.303394', 'delta': '0:00:00.109534', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'kubectl --kubeconfig ~/.kube/config get machines openstack-infra-workers-sc4sh-822pp -o json | jq -r \'.status.addresses[] | select(.type=="InternalIP") | .address\'', '_uses_shell': True, 'expand_argument_vars': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['192.168.0.173'], 'stderr_lines': [], 'failed': False, 'item': 'openstack-infra-workers-sc4sh-822pp', 'ansible_loop_var': 'item'})[0m
[0;32mok: [localhost] => (item={'changed': False, 'stdout': '192.168.0.172', 'stderr': '', 'rc': 0, 'cmd': 'kubectl --kubeconfig ~/.kube/config get machines openstack-infra-workers-sc4sh-94g9g -o json | jq -r \'.status.addresses[] | select(.type=="InternalIP") | .address\'', 'start': '2025-09-23 03:32:50.514077', 'end': '2025-09-23 03:32:50.655144', 'delta': '0:00:00.141067', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'kubectl --kubeconfig ~/.kube/config get machines openstack-infra-workers-sc4sh-94g9g -o json | jq -r \'.status.addresses[] | select(.type=="InternalIP") | .address\'', '_uses_shell': True, 'expand_argument_vars': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['192.168.0.172'], 'stderr_lines': [], 'failed': False, 'item': 'openstack-infra-workers-sc4sh-94g9g', 'ansible_loop_var': 'item'})[0m
[0;32mok: [localhost] => (item={'changed': False, 'stdout': '192.168.0.171', 'stderr': '', 'rc': 0, 'cmd': 'kubectl --kubeconfig ~/.kube/config get machines openstack-infra-workers-sc4sh-kc8jm -o json | jq -r \'.status.addresses[] | select(.type=="InternalIP") | .address\'', 'start': '2025-09-23 03:32:50.868362', 'end': '2025-09-23 03:32:50.978613', 'delta': '0:00:00.110251', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'kubectl --kubeconfig ~/.kube/config get machines openstack-infra-workers-sc4sh-kc8jm -o json | jq -r \'.status.addresses[] | select(.type=="InternalIP") | .address\'', '_uses_shell': True, 'expand_argument_vars': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['192.168.0.171'], 'stderr_lines': [], 'failed': False, 'item': 'openstack-infra-workers-sc4sh-kc8jm', 'ansible_loop_var': 'item'})[0m
[0;32mok: [localhost] => (item={'changed': False, 'stdout': '192.168.0.174', 'stderr': '', 'rc': 0, 'cmd': 'kubectl --kubeconfig ~/.kube/config get machines openstack-infra-workers-sc4sh-xvgnx -o json | jq -r \'.status.addresses[] | select(.type=="InternalIP") | .address\'', 'start': '2025-09-23 03:32:51.185334', 'end': '2025-09-23 03:32:51.295988', 'delta': '0:00:00.110654', 'msg': '', 'invocation': {'module_args': {'_raw_params': 'kubectl --kubeconfig ~/.kube/config get machines openstack-infra-workers-sc4sh-xvgnx -o json | jq -r \'.status.addresses[] | select(.type=="InternalIP") | .address\'', '_uses_shell': True, 'expand_argument_vars': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['192.168.0.174'], 'stderr_lines': [], 'failed': False, 'item': 'openstack-infra-workers-sc4sh-xvgnx', 'ansible_loop_var': 'item'})[0m

TASK [k8s_hosts_update : Clean up old entries from /etc/hosts] *****************
[0;33mchanged: [localhost][0m

TASK [k8s_hosts_update : Update /etc/hosts file with new entries] **************
[0;33mchanged: [localhost] => (item={'ip': '192.168.0.175', 'hostname': 'openstack-infra-control-plane-bl5vb'})[0m
[0;33mchanged: [localhost] => (item={'ip': '192.168.0.176', 'hostname': 'openstack-infra-control-plane-nn9tr'})[0m
[0;33mchanged: [localhost] => (item={'ip': '192.168.0.170', 'hostname': 'openstack-infra-control-plane-q2mhs'})[0m
[0;33mchanged: [localhost] => (item={'ip': '192.168.0.173', 'hostname': 'openstack-infra-workers-sc4sh-822pp'})[0m
[0;33mchanged: [localhost] => (item={'ip': '192.168.0.172', 'hostname': 'openstack-infra-workers-sc4sh-94g9g'})[0m
[0;33mchanged: [localhost] => (item={'ip': '192.168.0.171', 'hostname': 'openstack-infra-workers-sc4sh-kc8jm'})[0m
[0;33mchanged: [localhost] => (item={'ip': '192.168.0.174', 'hostname': 'openstack-infra-workers-sc4sh-xvgnx'})[0m

TASK [k8s_hosts_update : Read existing inventory file] *************************
[0;32mok: [localhost][0m

TASK [k8s_hosts_update : Set inventory vars section] ***************************
[0;32mok: [localhost][0m

TASK [k8s_hosts_update : Create k8s section for inventory] *********************
[0;32mok: [localhost][0m

TASK [k8s_hosts_update : Get existing ens19 and ens20 addresses] ***************
[0;32mok: [localhost][0m

TASK [k8s_hosts_update : Generate ansible inventory content] *******************
[0;32mok: [localhost][0m

TASK [k8s_hosts_update : Generate openstack inventory content] *****************
[0;32mok: [localhost][0m

TASK [k8s_hosts_update : Label nodes for Cilium bootstrap] *********************
[0;32mok: [localhost] => (item={'ip': '192.168.0.175', 'hostname': 'openstack-infra-control-plane-bl5vb'})[0m
[0;32mok: [localhost] => (item={'ip': '192.168.0.176', 'hostname': 'openstack-infra-control-plane-nn9tr'})[0m
[0;32mok: [localhost] => (item={'ip': '192.168.0.170', 'hostname': 'openstack-infra-control-plane-q2mhs'})[0m
[0;32mok: [localhost] => (item={'ip': '192.168.0.173', 'hostname': 'openstack-infra-workers-sc4sh-822pp'})[0m
[0;32mok: [localhost] => (item={'ip': '192.168.0.172', 'hostname': 'openstack-infra-workers-sc4sh-94g9g'})[0m
[0;32mok: [localhost] => (item={'ip': '192.168.0.171', 'hostname': 'openstack-infra-workers-sc4sh-kc8jm'})[0m
[0;32mok: [localhost] => (item={'ip': '192.168.0.174', 'hostname': 'openstack-infra-workers-sc4sh-xvgnx'})[0m

TASK [k8s_hosts_update : Add taints for Cilium bootstrap] **********************
[0;32mok: [localhost] => (item={'ip': '192.168.0.175', 'hostname': 'openstack-infra-control-plane-bl5vb'})[0m
[0;32mok: [localhost] => (item={'ip': '192.168.0.176', 'hostname': 'openstack-infra-control-plane-nn9tr'})[0m
[0;32mok: [localhost] => (item={'ip': '192.168.0.170', 'hostname': 'openstack-infra-control-plane-q2mhs'})[0m
[0;32mok: [localhost] => (item={'ip': '192.168.0.173', 'hostname': 'openstack-infra-workers-sc4sh-822pp'})[0m
[0;32mok: [localhost] => (item={'ip': '192.168.0.172', 'hostname': 'openstack-infra-workers-sc4sh-94g9g'})[0m
[0;32mok: [localhost] => (item={'ip': '192.168.0.171', 'hostname': 'openstack-infra-workers-sc4sh-kc8jm'})[0m
[0;32mok: [localhost] => (item={'ip': '192.168.0.174', 'hostname': 'openstack-infra-workers-sc4sh-xvgnx'})[0m

TASK [k8s_hosts_update : Remove Cilium bootstrap taints after agents become Ready] ***
[0;36mskipping: [localhost] => (item={'ip': '192.168.0.175', 'hostname': 'openstack-infra-control-plane-bl5vb'}) [0m
[0;36mskipping: [localhost] => (item={'ip': '192.168.0.176', 'hostname': 'openstack-infra-control-plane-nn9tr'}) [0m
[0;36mskipping: [localhost] => (item={'ip': '192.168.0.170', 'hostname': 'openstack-infra-control-plane-q2mhs'}) [0m
[0;36mskipping: [localhost] => (item={'ip': '192.168.0.173', 'hostname': 'openstack-infra-workers-sc4sh-822pp'}) [0m
[0;36mskipping: [localhost] => (item={'ip': '192.168.0.172', 'hostname': 'openstack-infra-workers-sc4sh-94g9g'}) [0m
[0;36mskipping: [localhost] => (item={'ip': '192.168.0.171', 'hostname': 'openstack-infra-workers-sc4sh-kc8jm'}) [0m
[0;36mskipping: [localhost] => (item={'ip': '192.168.0.174', 'hostname': 'openstack-infra-workers-sc4sh-xvgnx'}) [0m
[0;36mskipping: [localhost][0m
[1;35m[WARNING]: Could not match supplied host pattern, ignoring: servers[0m

PLAY [Configure servers] *******************************************************
[0;36mskipping: no hosts matched[0m

PLAY [Install Cilium CNI] ******************************************************

PLAY RECAP *********************************************************************
[0;33mlocalhost[0m                  : [0;32mok=35  [0m [0;33mchanged=7   [0m unreachable=0    failed=0    [0;36mskipped=1   [0m rescued=0    [1;35mignored=1   [0m
Completed: setup
Running step: ceph
[Ceph] Running playbook: site.yml
[Ceph] Inventory: /home/kez/Documents/python_projects/daalu/daalu/cloud-config/inventory/hosts.ini

PLAY [Deploy Ceph monitors & managers] *****************************************

TASK [Gathering Facts] *********************************************************
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.forget_package : Forget package] *********************
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.package : Update state for tar] **********************
[0;36mskipping: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.directory : Create directory (/var/lib/downloads)] ***
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.download_artifact : Gather facts explicitly] *********
[0;36mskipping: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.download_artifact : Starting download of file] *******
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org] => {[0m
[0;32m    "msg": "https://github.com/opencontainers/runc/releases/download/v1.1.13/runc.amd64"[0m
[0;32m}[0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org] => {[0m
[0;32m    "msg": "https://github.com/opencontainers/runc/releases/download/v1.1.13/runc.amd64"[0m
[0;32m}[0m
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org] => {[0m
[0;32m    "msg": "https://github.com/opencontainers/runc/releases/download/v1.1.13/runc.amd64"[0m
[0;32m}[0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org] => {[0m
[0;32m    "msg": "https://github.com/opencontainers/runc/releases/download/v1.1.13/runc.amd64"[0m
[0;32m}[0m

TASK [vexxhost.containers.download_artifact : Download item] *******************
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.download_artifact : Extract archive] *****************
[0;36mskipping: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.package : Update state for tar] **********************
[0;36mskipping: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.forget_package : Forget package] *********************
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.package : Update state for tar] **********************
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.download_artifact : Gather facts explicitly] *********
[0;36mskipping: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.download_artifact : Starting download of file] *******
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org] => {[0m
[0;32m    "msg": "https://github.com/containerd/containerd/releases/download/v1.7.17/containerd-1.7.17-linux-amd64.tar.gz"[0m
[0;32m}[0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org] => {[0m
[0;32m    "msg": "https://github.com/containerd/containerd/releases/download/v1.7.17/containerd-1.7.17-linux-amd64.tar.gz"[0m
[0;32m}[0m
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org] => {[0m
[0;32m    "msg": "https://github.com/containerd/containerd/releases/download/v1.7.17/containerd-1.7.17-linux-amd64.tar.gz"[0m
[0;32m}[0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org] => {[0m
[0;32m    "msg": "https://github.com/containerd/containerd/releases/download/v1.7.17/containerd-1.7.17-linux-amd64.tar.gz"[0m
[0;32m}[0m

TASK [vexxhost.containers.download_artifact : Download item] *******************
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.download_artifact : Extract archive] *****************
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.containerd : Install AppArmor packages] **************
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.containerd : Create systemd service file for containerd] ***
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.containerd : Create folders for configuration] *******
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org] => (item={'path': '/etc/containerd'})[0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org] => (item={'path': '/etc/containerd'})[0m
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org] => (item={'path': '/etc/containerd'})[0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org] => (item={'path': '/etc/containerd'})[0m
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org] => (item={'path': '/var/lib/containerd'})[0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org] => (item={'path': '/var/lib/containerd'})[0m
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org] => (item={'path': '/var/lib/containerd'})[0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org] => (item={'path': '/var/lib/containerd'})[0m
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org] => (item={'path': '/run/containerd', 'mode': '0o711'})[0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org] => (item={'path': '/run/containerd', 'mode': '0o711'})[0m
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org] => (item={'path': '/run/containerd', 'mode': '0o711'})[0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org] => (item={'path': '/run/containerd', 'mode': '0o711'})[0m

TASK [vexxhost.containers.containerd : Generate a 20G file for "/var/lib/containers"] ***
[0;36mskipping: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.containerd : Install "xfsprogs" package] *************
[0;36mskipping: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.containerd : Create an "xfs" filesystem on "/var/lib/containerd.img"] ***
[0;36mskipping: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.containerd : Mount the "xfs" filesystem] *************
[0;36mskipping: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.containerd : Create containerd config file] **********
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.containerd : Force any restarts if necessary] ********

TASK [vexxhost.containers.containerd : Force any restarts if necessary] ********

TASK [vexxhost.containers.containerd : Force any restarts if necessary] ********

TASK [vexxhost.containers.containerd : Force any restarts if necessary] ********

TASK [vexxhost.containers.containerd : Enable and start service] ***************
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.forget_package : Forget package] *********************
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.download_artifact : Gather facts explicitly] *********
[0;36mskipping: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.download_artifact : Starting download of file] *******
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org] => {[0m
[0;32m    "msg": "https://download.docker.com/linux/static/stable/x86_64/docker-24.0.9.tgz"[0m
[0;32m}[0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org] => {[0m
[0;32m    "msg": "https://download.docker.com/linux/static/stable/x86_64/docker-24.0.9.tgz"[0m
[0;32m}[0m
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org] => {[0m
[0;32m    "msg": "https://download.docker.com/linux/static/stable/x86_64/docker-24.0.9.tgz"[0m
[0;32m}[0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org] => {[0m
[0;32m    "msg": "https://download.docker.com/linux/static/stable/x86_64/docker-24.0.9.tgz"[0m
[0;32m}[0m

TASK [vexxhost.containers.download_artifact : Download item] *******************
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.download_artifact : Extract archive] *****************
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.docker : Install AppArmor packages] ******************
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.docker : Ensure group "docker" exists] ***************
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.docker : Create systemd service file for docker] *****
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.docker : Create folders for configuration] ***********
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org] => (item={'path': '/etc/docker'})[0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org] => (item={'path': '/etc/docker'})[0m
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org] => (item={'path': '/etc/docker'})[0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org] => (item={'path': '/etc/docker'})[0m
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org] => (item={'path': '/var/lib/docker', 'mode': '0o710'})[0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org] => (item={'path': '/var/lib/docker', 'mode': '0o710'})[0m
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org] => (item={'path': '/var/lib/docker', 'mode': '0o710'})[0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org] => (item={'path': '/var/lib/docker', 'mode': '0o710'})[0m
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org] => (item={'path': '/run/docker', 'mode': '0o711'})[0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org] => (item={'path': '/run/docker', 'mode': '0o711'})[0m
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org] => (item={'path': '/run/docker', 'mode': '0o711'})[0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org] => (item={'path': '/run/docker', 'mode': '0o711'})[0m

TASK [vexxhost.containers.docker : Create systemd socket file for docker] ******
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.docker : Create docker daemon config file] ***********
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [vexxhost.containers.docker : Force any restarts if necessary] ************

TASK [vexxhost.containers.docker : Force any restarts if necessary] ************

TASK [vexxhost.containers.docker : Force any restarts if necessary] ************

TASK [vexxhost.containers.docker : Force any restarts if necessary] ************

TASK [vexxhost.containers.docker : Enable and start service] *******************
[0;32mok: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;32mok: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [repository : Check if ceph_repository_version minimal 16.2] **************
[0;36mskipping: [openstack-infra-workers-sc4sh-822pp.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-94g9g.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-kc8jm.kez-ironcloud.duckdns.org][0m
[0;36mskipping: [openstack-infra-workers-sc4sh-xvgnx.kez-ironcloud.duckdns.org][0m

TASK [repository : Install packages] *******************************************
Traceback (most recent call last):
  File "/home/kez/Documents/python_projects/daalu/daalu/main.py", line 113, in <module>
    deploy_all(tags)
  File "/home/kez/Documents/python_projects/daalu/daalu/main.py", line 77, in deploy_all
    steps[tag].deploy(str(inventory))
  File "/home/kez/Documents/python_projects/daalu/daalu/src/daalu/ceph/deployer.py", line 12, in deploy
    return self.run("site.yml", inventory, tags, extra_vars)
  File "/home/kez/Documents/python_projects/daalu/daalu/src/daalu/core/deployer.py", line 33, in run
    raise RuntimeError(f"{self.name} deployment failed: {rc.status}")
RuntimeError: Ceph deployment failed: canceled
