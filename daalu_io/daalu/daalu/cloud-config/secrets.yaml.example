# =============================================================================
# Daalu Secrets — EXAMPLE
# =============================================================================
#
# Copy this file and fill in real values:
#
#   cp secrets.yaml.example secrets.yaml
#
# The structure here mirrors cluster.yaml exactly. At runtime the config
# loader deep-merges these values into the cluster config, so any non-empty
# value here overrides the matching key in cluster.yaml.
#
# You can also use ${ENV_VAR} placeholders anywhere in this file — they are
# expanded before YAML parsing (e.g.  builder_password: "${MY_PASSWORD}").
#
# NEVER commit secrets.yaml to version control.
# =============================================================================

# ---------------------------------------------------------------------------
# Cluster API / Proxmox credentials
# ---------------------------------------------------------------------------
cluster_api:
  builder_password: "<node-builder-password>"
  image_password: "<image-builder-password>"
  image_password_hash: ""             # openssl passwd -6 '<image_password>'
  ssh_public_key: "<your-ssh-ed25519-public-key>"
  ssh_public_key_path: "~/.ssh/daalu-key.pub"
  proxmox_url: "https://<proxmox-host>:8006"
  proxmox_token: "root@pam!<token-name>"
  proxmox_secret: "<proxmox-api-token-secret>"
  mgmt_host: "<management-host-ip>"
  mgmt_user: "<management-ssh-user>"

# ---------------------------------------------------------------------------
# Keycloak (identity provider)
# ---------------------------------------------------------------------------
keycloak:
  monitoring:
    password: "<keycloak-admin-password>"
  openstack:
    password: "<keycloak-admin-password>"
    github_token: "<github-personal-access-token>"

# ---------------------------------------------------------------------------
# Monitoring — Thanos / MinIO object storage
# ---------------------------------------------------------------------------
monitoring:
  thanos:
    access_key: "<minio-access-key>"
    secret_key: "<minio-secret-key>"

# ---------------------------------------------------------------------------
# Component-level secrets (read from environment by Python components)
# ---------------------------------------------------------------------------
# These are NOT merged into the cluster config — set them as env vars
# before running daalu:
#
#   export DAALU_BUILDER_PASSWORD="<password>"
#   export DAALU_KEYCLOAK_DB_PASSWORD="<password>"
#   export DAALU_MYSQL_ROOT_PASSWORD="<password>"
#   export DAALU_OPENSEARCH_ADMIN_PASSWORD="<password>"
#
# ---------------------------------------------------------------------------
# OpenStack Helm endpoint passwords (used by helm values rendering)
# ---------------------------------------------------------------------------
# Generate each with: openssl rand -base64 24
#
# These are consumed by the OpenStack component registry when it renders
# Helm values.  Place them under an `openstack_secrets:` key or export
# as environment variables.
#
#   openstack_secrets:
#     barbican_keystone_password: "<random>"
#     barbican_mariadb_password: "<random>"
#     cinder_keystone_password: "<random>"
#     ...
#
# Full list: see cloud-config/secrets.yaml.example.full
